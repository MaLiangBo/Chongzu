function random(n,r){return Math.floor(Math.random()*(n-r+1)+r)}var $uphone=$("#zhuce_form_phone"),$cuowu=$("#cuowu"),$zhengque=$("#zhengque"),$uname=$("#uname"),arr=[!1,!1,!1,!1,!1,!1];function convertCookieStrToObj(n){if(!n)return{};for(var r=n.split(","),a={},o=0;o<r.length;o++){var i=r[o].split(":");a[i[0]]=i[1]}return a}function convertObjToCookieStr(n){var r="";for(var a in n){r&&(r+=","),r+=a+":"+n[a]}return r}$uphone.blur(function(){var n=$(this).val();/^(13|14|15|17|18)\d{9}$/g.test(n)?($cuowu.css({display:"none"}),$zhengque.css({display:"block"}),arr[0]=!0):($cuowu.css({display:"block"}),arr[0]=!1)}),$uname.blur(function(){var n=$(this).val();/^[A-Za-z0-9]{6,12}$/.test(n)?($("#cuowu_name").css({display:"none"}),$("#zhengque_name").css({display:"block"}),arr[1]=!0):($("#cuowu_name").css({display:"block"}),arr[1]=!1)}),$("#duanxin_a").click(function(){$("#duanxinyanzheng").html(random(999999,1e5)),$("#duanxinyanzheng").css({color:"red",display:"block"})}),$("#duanxin").blur(function(){$(this).val()!=$("#duanxinyanzheng").html()&&($(this).val("请输入正确验证码"),$(this).css({color:"red"}),arr[2]=!1)}),$("#duanxin").focus(function(){$(this).val(""),arr[2]=!0}),$("#picyanzheng").blur(function(){var n=$(this).val();arr[3]="ksofer"===n||"ksofer"===n?($("#pic_dui").css({display:"block"}),!0):($("#pic_dui").css({display:"none"}),$("#pic_cuo").css({display:"block"}),!1)}),$("#upwd").blur(function(){var n=$(this).val();/^[0-9a-zA-Z]{6,16}$/.test(n)?($("#upwd_dui").css({display:"block"}),$("#upwd_cuo").css({display:"none"}),arr[4]=!0):($("#upwd_cuo").css({display:"block"}),arr[4]=!1)}),$("#againpwd").blur(function(){$(this).val()===$("#upwd").val()?($("#pwdr_dui").css({display:"block"}),arr[5]=!0):($("#pwdr_cuo").css({display:"block"}),$("#pwdr_dui").css({display:"none"}),arr[5]=!1)}),$("#reg").click(function(n){var r=$uname.val(),a=$("#upwd").val();if(r)if(-1==arr.indexOf(!1)){var o=$.cookie("user")?$.cookie("user"):"",i=convertCookieStrToObj(o);r in i?alert("用户名已存在"):(i[r]=a,o=convertObjToCookieStr(i),$.cookie("user",o,{expires:7,path:"/"}),alert("注册成功！"),location.href="login.html")}else alert("请正确填写信息！");else alert("用户名不能为空！")});